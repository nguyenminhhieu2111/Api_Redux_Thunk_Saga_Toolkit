{"ast":null,"code":"import { createAsyncThunk, createSlice, createAction } from \"@reduxjs/toolkit\";\nimport requestGetMovie from \"./request\";\nexport const setLoading = createAction('setLoading');\nexport const nextPage = createAction('nextPage');\nexport const handleFetchNews = createAsyncThunk('movie/handleFetchNews', async (query, thunkAPI) => {\n  const response = await requestGetMovie(query);\n  return response.data.results;\n});\nconst initialState = {\n  results: [],\n  loading: true,\n  errorMessage: \"\",\n  query: \"\"\n};\nconst newsSlice = createSlice({\n  name: \"movie\",\n  initialState,\n  reducers: {\n    setLoading: (state, action) => ({\n      ...state,\n      loading: action.payload\n    })\n  },\n  extraReducers: builder => {\n    builder.addCase(handleFetchNews.fulfilled, (state, action) => {\n      state.results = action.payload;\n      state.loading = false;\n    }).addCase(handleFetchNews.pending, (state, action) => {\n      state.loading = true;\n    }).addCase(handleFetchNews.rejected, (state, action) => {\n      state.loading = false;\n    }).addCase(setLoading, (state, action) => {\n      state.loading = action.payload;\n    }).addCase(nextPage, (state, action) => {\n      state.query;\n    });\n  }\n});\nexport default newsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createAction","requestGetMovie","setLoading","nextPage","handleFetchNews","query","thunkAPI","response","data","results","initialState","loading","errorMessage","newsSlice","name","reducers","state","action","payload","extraReducers","builder","addCase","fulfilled","pending","rejected","reducer"],"sources":["E:/future/src/redux-thunk/newSlice.js"],"sourcesContent":["import {createAsyncThunk,createSlice,createAction} from \"@reduxjs/toolkit\"\r\nimport requestGetMovie from \"./request\";\r\n\r\n\r\nexport const setLoading=createAction('setLoading')\r\nexport const nextPage=createAction('nextPage')\r\nexport const handleFetchNews=createAsyncThunk(\r\n'movie/handleFetchNews',async (query,thunkAPI)=>{\r\nconst response=await requestGetMovie(query);\r\nreturn response.data.results\r\n})\r\n\r\nconst initialState={\r\n    results:[],\r\n    loading:true,\r\n    errorMessage:\"\",\r\n    query:\"\"\r\n}\r\nconst newsSlice=createSlice({\r\n    name:\"movie\",\r\n    initialState,\r\n    reducers:{\r\n        setLoading:(state,action)=>({\r\n            ...state,\r\n            loading:action.payload\r\n        })\r\n    },\r\n    extraReducers:(builder)=>{\r\n        builder\r\n        .addCase(handleFetchNews.fulfilled,(state,action)=>{\r\n           state.results=action.payload \r\n           state.loading = false\r\n        })\r\n        .addCase(handleFetchNews.pending,(state,action)=>{\r\n            state.loading = true\r\n    \r\n        })\r\n        .addCase(handleFetchNews.rejected,(state,action)=>{\r\n            state.loading = false \r\n        })\r\n        .addCase(setLoading,(state,action)=>{\r\n           state.loading=action.payload\r\n        })\r\n        .addCase(nextPage,(state,action)=>{\r\n            state.query\r\n        })\r\n    }\r\n})\r\n\r\nexport default newsSlice.reducer"],"mappings":"AAAA,SAAQA,gBAAgB,EAACC,WAAW,EAACC,YAAY,QAAO,kBAAkB;AAC1E,OAAOC,eAAe,MAAM,WAAW;AAGvC,OAAO,MAAMC,UAAU,GAACF,YAAY,CAAC,YAAY,CAAC;AAClD,OAAO,MAAMG,QAAQ,GAACH,YAAY,CAAC,UAAU,CAAC;AAC9C,OAAO,MAAMI,eAAe,GAACN,gBAAgB,CAC7C,uBAAuB,EAAC,OAAOO,KAAK,EAACC,QAAQ,KAAG;EAChD,MAAMC,QAAQ,GAAC,MAAMN,eAAe,CAACI,KAAK,CAAC;EAC3C,OAAOE,QAAQ,CAACC,IAAI,CAACC,OAAO;AAC5B,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAC;EACfD,OAAO,EAAC,EAAE;EACVE,OAAO,EAAC,IAAI;EACZC,YAAY,EAAC,EAAE;EACfP,KAAK,EAAC;AACV,CAAC;AACD,MAAMQ,SAAS,GAACd,WAAW,CAAC;EACxBe,IAAI,EAAC,OAAO;EACZJ,YAAY;EACZK,QAAQ,EAAC;IACLb,UAAU,EAAC,CAACc,KAAK,EAACC,MAAM,MAAI;MACxB,GAAGD,KAAK;MACRL,OAAO,EAACM,MAAM,CAACC;IACnB,CAAC;EACL,CAAC;EACDC,aAAa,EAAEC,OAAO,IAAG;IACrBA,OAAO,CACNC,OAAO,CAACjB,eAAe,CAACkB,SAAS,EAAC,CAACN,KAAK,EAACC,MAAM,KAAG;MAChDD,KAAK,CAACP,OAAO,GAACQ,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACL,OAAO,GAAG,KAAK;IACxB,CAAC,CAAC,CACDU,OAAO,CAACjB,eAAe,CAACmB,OAAO,EAAC,CAACP,KAAK,EAACC,MAAM,KAAG;MAC7CD,KAAK,CAACL,OAAO,GAAG,IAAI;IAExB,CAAC,CAAC,CACDU,OAAO,CAACjB,eAAe,CAACoB,QAAQ,EAAC,CAACR,KAAK,EAACC,MAAM,KAAG;MAC9CD,KAAK,CAACL,OAAO,GAAG,KAAK;IACzB,CAAC,CAAC,CACDU,OAAO,CAACnB,UAAU,EAAC,CAACc,KAAK,EAACC,MAAM,KAAG;MACjCD,KAAK,CAACL,OAAO,GAACM,MAAM,CAACC,OAAO;IAC/B,CAAC,CAAC,CACDG,OAAO,CAAClB,QAAQ,EAAC,CAACa,KAAK,EAACC,MAAM,KAAG;MAC9BD,KAAK,CAACX,KAAK;IACf,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,eAAeQ,SAAS,CAACY,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}